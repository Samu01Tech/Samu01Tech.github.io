import{r as vn}from"./chunks/index.1b27865d.js";var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dn(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}function Xn(H){if(H.__esModule)return H;var k=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(H).forEach(function(pt){var it=Object.getOwnPropertyDescriptor(H,pt);Object.defineProperty(k,pt,it.get?it:{enumerable:!0,get:function(){return H[pt]}})}),k}var yn={},gn={exports:{}},Bn={},Un=Object.freeze(Object.defineProperty({__proto__:null,default:Bn},Symbol.toStringTag,{value:"Module"})),de=Xn(Un);(function(H,k){(function(it,$){H.exports=$()})(Vn,function(){return(()=>{var pt=[,(z,q,Q)=>{Q.r(q),Q.d(q,{default:()=>R});var Rt=function(){var X=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(X=X||__filename),function(w){w=w||{};var c;c||(c=typeof w<"u"?w:{});var F,M;c.ready=new Promise(function(e,t){F=e,M=t});function ct(){function e(p){const f=i;r=t=0,i=new Map,f.forEach(d=>{try{d(p)}catch(l){console.error(l)}}),this.Pa(),u&&u.ib()}let t=0,r=0,i=new Map,u=null,s=null;this.requestAnimationFrame=function(p){t||(t=window.requestAnimationFrame(e.bind(this)));const f=++r;return i.set(f,p),f},this.cancelAnimationFrame=function(p){i.delete(p),t&&i.size==0&&(window.cancelAnimationFrame(t),t=0)},this.gb=function(p){s&&(document.body.remove(s),s=null),p||(s=document.createElement("div"),s.style.backgroundColor="black",s.style.position="fixed",s.style.right=0,s.style.top=0,s.style.color="white",s.style.padding="4px",s.innerHTML="RIVE FPS",p=function(f){s.innerHTML="RIVE FPS "+f.toFixed(1)},document.body.appendChild(s)),u=new function(){let f=0,d=0;this.ib=function(){var l=performance.now();d?(++f,l-=d,1e3<l&&(p(1e3*f/l),f=d=0)):(d=l,f=0)}}},this.cb=function(){s&&(document.body.remove(s),s=null),u=null},this.Pa=function(){}}function N(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<e)-1)>>e,t.has(i)&&clearTimeout(t.get(i)),t.set(i,setTimeout(function(){t.delete(i),t.length==0?r=-1/0:i==r&&(r=Math.max(...t.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<e}}const Z=new function(){function e(){if(!t){let nt=function(rt,E,V){if(E=b.createShader(E),b.shaderSource(E,V),b.compileShader(E),V=b.getShaderInfoLog(E),0<V.length)throw V;b.attachShader(rt,E)};var T=document.createElement("canvas"),S={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let b=T.getContext("webgl2",S);if(b)r=2;else if(b=T.getContext("webgl",S))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(b.getParameter(b.MAX_RENDERBUFFER_SIZE),b.getParameter(b.MAX_TEXTURE_SIZE)),T=b.createProgram(),nt(T,b.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),nt(T,b.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),b.bindAttribLocation(T,0,"vertex"),b.bindAttribLocation(T,1,"uv"),b.linkProgram(T),S=b.getProgramInfoLog(T),0<S.length)throw S;u=b.getUniformLocation(T,"mat"),s=b.getUniformLocation(T,"translate"),b.useProgram(T),b.bindBuffer(b.ARRAY_BUFFER,b.createBuffer()),b.enableVertexAttribArray(0),b.enableVertexAttribArray(1),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,b.createBuffer()),b.uniform1i(b.getUniformLocation(T,"image"),0),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=b}return!0}let t=null,r=0,i=0,u=null,s=null,p=0,f=0;this.rb=function(){return e(),i},this.bb=function(T){if(!e())return null;const S=t.createTexture();return t.bindTexture(t.TEXTURE_2D,S),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,T),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),S};const d=new N(8),l=new N(8),y=new N(10),C=new N(10);this.fb=function(T,S,b,nt,rt){if(e()){var E=d.push(T),V=l.push(S);(t.canvas.width!=E||t.canvas.height!=V)&&(t.canvas.width=E,t.canvas.height=V),t.viewport(0,V-S,T,S),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),b.sort((j,Nt)=>Nt.Sa-j.Sa),E=y.push(nt),p!=E&&(t.bufferData(t.ARRAY_BUFFER,8*E,t.DYNAMIC_DRAW),p=E),E=0;for(var K of b)t.bufferSubData(t.ARRAY_BUFFER,E,K.Ea),E+=4*K.Ea.length;console.assert(E==4*nt);for(var _t of b)t.bufferSubData(t.ARRAY_BUFFER,E,_t.Va),E+=4*_t.Va.length;console.assert(E==8*nt),E=C.push(rt),f!=E&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*E,t.DYNAMIC_DRAW),f=E),K=0;for(var Bt of b)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,K,Bt.ra),K+=2*Bt.ra.length;console.assert(K==2*rt),Bt=0,_t=!0,E=K=0;for(const j of b){j.image.ya!=Bt&&(t.bindTexture(t.TEXTURE_2D,j.image.Za||null),Bt=j.image.ya),j.ub?(t.scissor(j.Ia,V-j.Ja-j.Oa,j.Bb,j.Oa),_t=!0):_t&&(t.scissor(0,V-S,T,S),_t=!1),b=2/T;const Nt=-2/S;t.uniform4f(u,j.na[0]*b*j.ua,j.na[1]*Nt*j.va,j.na[2]*b*j.ua,j.na[3]*Nt*j.va),t.uniform2f(s,j.na[4]*b*j.ua+b*(j.Ia-j.sb*j.ua)-1,j.na[5]*Nt*j.va+Nt*(j.Ja-j.tb*j.va)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,E),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,E+4*nt),t.drawElements(t.TRIANGLES,j.ra.length,t.UNSIGNED_SHORT,K),E+=4*j.Ea.length,K+=2*j.ra.length}console.assert(E==4*nt),console.assert(K==2*rt)}},this.canvas=function(){return e()&&t.canvas}};w.onRuntimeInitialized=function(){function e(m){switch(m){case l.srcOver:return"source-over";case l.screen:return"screen";case l.overlay:return"overlay";case l.darken:return"darken";case l.lighten:return"lighten";case l.colorDodge:return"color-dodge";case l.colorBurn:return"color-burn";case l.hardLight:return"hard-light";case l.softLight:return"soft-light";case l.difference:return"difference";case l.exclusion:return"exclusion";case l.multiply:return"multiply";case l.hue:return"hue";case l.saturation:return"saturation";case l.color:return"color";case l.luminosity:return"luminosity"}}function t(m){return"rgba("+((16711680&m)>>>16)+","+((65280&m)>>>8)+","+((255&m)>>>0)+","+((4278190080&m)>>>24)/255+")"}function r(){0<K.length&&(Z.fb(V.drawWidth(),V.drawHeight(),K,_t,Bt),K=[],Bt=_t=0,V.reset(512,512));for(const m of E){for(const P of m.fa)P();m.fa=[]}E.clear()}var i=w.RenderPaintStyle;const u=w.RenderPath,s=w.RenderPaint,p=w.Renderer,f=w.StrokeCap,d=w.StrokeJoin,l=w.BlendMode,y=i.fill,C=i.stroke,T=w.FillRule.evenOdd;let S=1;var b=w.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.ya=S,S=S+1&2147483647||1},decode:function(m){let P=Be;P.total++;var I=this,Y=new Image;Y.src=URL.createObjectURL(new Blob([m],{type:"image/png"})),Y.onload=function(){if(I.Xa=Y,I.Za=Z.bb(Y),I.size(Y.width,Y.height),P.loaded++,P.loaded===P.total){const D=P.ready;D&&(D(),P.ready=null)}}}}),nt=u.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ia=new Path2D},reset:function(){this.ia=new Path2D},addPath:function(m,P){var I=this.ia,Y=I.addPath;m=m.ia;const D=new DOMMatrix;D.a=P.xx,D.b=P.xy,D.c=P.yx,D.d=P.yy,D.e=P.tx,D.f=P.ty,Y.call(I,m,D)},fillRule:function(m){this.Ga=m},moveTo:function(m,P){this.ia.moveTo(m,P)},lineTo:function(m,P){this.ia.lineTo(m,P)},cubicTo:function(m,P,I,Y,D,ft){this.ia.bezierCurveTo(m,P,I,Y,D,ft)},close:function(){this.ia.closePath()}}),rt=s.extend("CanvasRenderPaint",{color:function(m){this.Ha=t(m)},thickness:function(m){this.$a=m},join:function(m){switch(m){case d.miter:this.xa="miter";break;case d.round:this.xa="round";break;case d.bevel:this.xa="bevel"}},cap:function(m){switch(m){case f.butt:this.wa="butt";break;case f.round:this.wa="round";break;case f.square:this.wa="square"}},style:function(m){this.Ya=m},blendMode:function(m){this.Wa=e(m)},linearGradient:function(m,P,I,Y){this.qa={Ta:m,Ua:P,La:I,Ma:Y,Da:[]}},radialGradient:function(m,P,I,Y){this.qa={Ta:m,Ua:P,La:I,Ma:Y,Da:[],pb:!0}},addStop:function(m,P){this.qa.Da.push({color:m,stop:P})},completeGradient:function(){},draw:function(m,P,I){let Y=this.Ya;var D=this.Ha,ft=this.qa;if(m.globalCompositeOperation=this.Wa,ft!=null){D=ft.Ta;var bt=ft.Ua;const It=ft.La;var Mt=ft.Ma;const Ot=ft.Da;ft.pb?(ft=It-D,Mt-=bt,D=m.createRadialGradient(D,bt,0,D,bt,Math.sqrt(ft*ft+Mt*Mt))):D=m.createLinearGradient(D,bt,It,Mt);for(let Lt=0,ut=Ot.length;Lt<ut;Lt++)bt=Ot[Lt],D.addColorStop(bt.stop,t(bt.color));this.Ha=D,this.qa=null}switch(Y){case C:m.strokeStyle=D,m.lineWidth=this.$a,m.lineCap=this.wa,m.lineJoin=this.xa,m.stroke(P);break;case y:m.fillStyle=D,m.fill(P,I)}}});const E=new Set;let V=null,K=[],_t=0,Bt=0;var j=w.CanvasRenderer=p.extend("Renderer",{__construct:function(m){this.__parent.__construct.call(this),this.ha=[1,0,0,1,0,0],this.$=m.getContext("2d"),this.Fa=m,this.fa=[]},save:function(){this.ha.push(...this.ha.slice(this.ha.length-6)),this.fa.push(this.$.save.bind(this.$))},restore:function(){const m=this.ha.length-6;if(6>m)throw"restore() called without matching save().";this.ha.splice(m),this.fa.push(this.$.restore.bind(this.$))},transform:function(m){const P=this.ha,I=P.length-6;P.splice(I,6,P[I]*m.xx+P[I+2]*m.xy,P[I+1]*m.xx+P[I+3]*m.xy,P[I]*m.yx+P[I+2]*m.yy,P[I+1]*m.yx+P[I+3]*m.yy,P[I]*m.tx+P[I+2]*m.ty+P[I+4],P[I+1]*m.tx+P[I+3]*m.ty+P[I+5]),this.fa.push(this.$.transform.bind(this.$,m.xx,m.xy,m.yx,m.yy,m.tx,m.ty))},_drawPath:function(m,P){this.fa.push(P.draw.bind(P,this.$,m.ia,m.Ga===T?"evenodd":"nonzero"))},_drawImage:function(m,P,I){var Y=m.Xa;if(Y){var D=this.$,ft=e(P);this.fa.push(function(){D.globalCompositeOperation=ft,D.globalAlpha=I,D.drawImage(Y,0,0),D.globalAlpha=1})}},_getMatrix:function(m){const P=this.ha,I=P.length-6;for(let Y=0;6>Y;++Y)m[Y]=P[I+Y]},_drawImageMesh:function(m,P,I,Y,D,ft,bt,Mt,It,Ot){var Lt=this.$.canvas.width,ut=this.$.canvas.height;const hn=It-bt,dn=Ot-Mt;bt=Math.max(bt,0),Mt=Math.max(Mt,0),It=Math.min(It,Lt),Ot=Math.min(Ot,ut);const le=It-bt,he=Ot-Mt;if(console.assert(le<=Math.min(hn,Lt)),console.assert(he<=Math.min(dn,ut)),!(0>=le||0>=he)){It=le<hn||he<dn,Lt=Ot=1;var Zt=Math.ceil(le*Ot),Gt=Math.ceil(he*Lt);ut=Z.rb(),Zt>ut&&(Ot*=ut/Zt,Zt=ut),Gt>ut&&(Lt*=ut/Gt,Gt=ut),V||(V=new c.DynamicRectanizer(ut),V.reset(512,512)),ut=V.addRect(Zt,Gt),0>ut&&(r(),E.add(this),ut=V.addRect(Zt,Gt),console.assert(0<=ut));var pn=ut&65535,mn=ut>>16;K.push({na:this.ha.slice(this.ha.length-6),image:m,Ia:pn,Ja:mn,sb:bt,tb:Mt,Bb:Zt,Oa:Gt,ua:Ot,va:Lt,Ea:new Float32Array(Y),Va:new Float32Array(D),ra:new Uint16Array(ft),ub:It,Sa:m.ya<<1|(It?1:0)}),_t+=Y.length,Bt+=ft.length;var te=this.$,kn=e(P);this.fa.push(function(){te.save(),te.resetTransform(),te.globalCompositeOperation=kn,te.globalAlpha=I,te.drawImage(Z.canvas(),pn,mn,Zt,Gt,bt,Mt,le,he),te.restore()})}},_clipPath:function(m){this.fa.push(this.$.clip.bind(this.$,m.ia,m.Ga===T?"evenodd":"nonzero"))},clear:function(){E.add(this),this.fa.push(this.$.clearRect.bind(this.$,0,0,this.Fa.width,this.Fa.height))},flush:function(){}});w.makeRenderer=function(m){return new j(m)},w.renderFactory={makeRenderPaint:function(){return new rt},makeRenderPath:function(){return new nt},makeRenderImage:function(){return new b}};let Nt=w.load,Be=null;w.load=function(m){return new Promise(function(P){let I=null;Be={total:0,loaded:0,ready:function(){P(I)}},I=Nt(m),Be.total==0&&P(I)})},i=new ct,w.requestAnimationFrame=i.requestAnimationFrame.bind(i),w.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),w.enableFPSCounter=i.gb.bind(i),w.disableFPSCounter=i.cb,i.Pa=r};var at={},mt;for(mt in c)c.hasOwnProperty(mt)&&(at[mt]=c[mt]);var L=typeof window=="object",ot=typeof importScripts=="function",tt="",Ct,Pt,dt,G,W;typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"?(tt=ot?de.dirname(tt)+"/":__dirname+"/",Ct=function(e,t){return G||(G=de),W||(W=de),e=W.normalize(e),G.readFileSync(e,t?null:"utf8")},dt=function(e){return e=Ct(e,!0),e.buffer||(e=new Uint8Array(e)),e.buffer||qt("Assertion failed: undefined"),e},Pt=function(e,t,r){G||(G=de),W||(W=de),e=W.normalize(e),G.readFile(e,function(i,u){i?r(i):t(u.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(e){throw e}),process.on("unhandledRejection",function(e){throw e}),c.inspect=function(){return"[Emscripten Module object]"}):(L||ot)&&(ot?tt=self.location.href:typeof document<"u"&&document.currentScript&&(tt=document.currentScript.src),X&&(tt=X),tt.indexOf("blob:")!==0?tt=tt.substr(0,tt.replace(/[?#].*/,"").lastIndexOf("/")+1):tt="",Ct=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ot&&(dt=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Pt=function(e,t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){i.status==200||i.status==0&&i.response?t(i.response):r()},i.onerror=r,i.send(null)});var o=c.print||console.log.bind(console),n=c.printErr||console.warn.bind(console);for(mt in at)at.hasOwnProperty(mt)&&(c[mt]=at[mt]);at=null;var a;c.wasmBinary&&(a=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&qt("no native wasm support detected");var h,v=!1,g=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function _(e,t,r){var i=t+r;for(r=t;e[r]&&!(r>=i);)++r;if(16<r-t&&e.subarray&&g)return g.decode(e.subarray(t,r));for(i="";t<r;){var u=e[t++];if(u&128){var s=e[t++]&63;if((u&224)==192)i+=String.fromCharCode((u&31)<<6|s);else{var p=e[t++]&63;u=(u&240)==224?(u&15)<<12|s<<6|p:(u&7)<<18|s<<12|p<<6|e[t++]&63,65536>u?i+=String.fromCharCode(u):(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else i+=String.fromCharCode(u)}return i}function O(e,t,r){var i=yt;if(0<r){r=t+r-1;for(var u=0;u<e.length;++u){var s=e.charCodeAt(u);if(55296<=s&&57343>=s){var p=e.charCodeAt(++u);s=65536+((s&1023)<<10)|p&1023}if(127>=s){if(t>=r)break;i[t++]=s}else{if(2047>=s){if(t+1>=r)break;i[t++]=192|s>>6}else{if(65535>=s){if(t+2>=r)break;i[t++]=224|s>>12}else{if(t+3>=r)break;i[t++]=240|s>>18,i[t++]=128|s>>12&63}i[t++]=128|s>>6&63}i[t++]=128|s&63}}i[t]=0}}var B=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function A(e,t){for(var r=e>>1,i=r+t/2;!(r>=i)&&ee[r];)++r;if(r<<=1,32<r-e&&B)return B.decode(yt.subarray(e,r));for(r="",i=0;!(i>=t/2);++i){var u=Ht[e+2*i>>1];if(u==0)break;r+=String.fromCharCode(u)}return r}function U(e,t,r){if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=t;r=r<2*e.length?r/2:e.length;for(var u=0;u<r;++u)Ht[t>>1]=e.charCodeAt(u),t+=2;return Ht[t>>1]=0,t-i}function lt(e){return 2*e.length}function At(e,t){for(var r=0,i="";!(r>=t/4);){var u=gt[e+4*r>>2];if(u==0)break;++r,65536<=u?(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023)):i+=String.fromCharCode(u)}return i}function et(e,t,r){if(r===void 0&&(r=2147483647),4>r)return 0;var i=t;r=i+r-4;for(var u=0;u<e.length;++u){var s=e.charCodeAt(u);if(55296<=s&&57343>=s){var p=e.charCodeAt(++u);s=65536+((s&1023)<<10)|p&1023}if(gt[t>>2]=s,t+=4,t+4>r)break}return gt[t>>2]=0,t-i}function Wt(e){for(var t=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);55296<=i&&57343>=i&&++r,t+=4}return t}var vt,jt,yt,Ht,ee,gt,xt,Ue,Ye;function Ne(){var e=h.buffer;vt=e,c.HEAP8=jt=new Int8Array(e),c.HEAP16=Ht=new Int16Array(e),c.HEAP32=gt=new Int32Array(e),c.HEAPU8=yt=new Uint8Array(e),c.HEAPU16=ee=new Uint16Array(e),c.HEAPU32=xt=new Uint32Array(e),c.HEAPF32=Ue=new Float32Array(e),c.HEAPF64=Ye=new Float64Array(e)}var ne,He=[],ze=[],$e=[];function _n(){var e=c.preRun.shift();He.unshift(e)}var zt=0,re=null;c.preloadedImages={},c.preloadedAudios={};function qt(e){throw c.onAbort&&c.onAbort(e),e="Aborted("+e+")",n(e),v=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),M(e),e}function Ze(){return Tt.startsWith("data:application/octet-stream;base64,")}var Tt;if(Tt="canvas_advanced.wasm",!Ze()){var Ge=Tt;Tt=c.locateFile?c.locateFile(Ge,tt):tt+Ge}function qe(){var e=Tt;try{if(e==Tt&&a)return new Uint8Array(a);if(dt)return dt(e);throw"both async and sync fetching of the wasm failed"}catch(t){qt(t)}}function Pn(){if(!a&&(L||ot)){if(typeof fetch=="function"&&!Tt.startsWith("file://"))return fetch(Tt,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Tt+"'";return e.arrayBuffer()}).catch(function(){return qe()});if(Pt)return new Promise(function(e,t){Pt(Tt,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return qe()})}function xe(e){for(;0<e.length;){var t=e.shift();if(typeof t=="function")t(c);else{var r=t.Cb;typeof r=="number"?t.za===void 0?ne.get(r)():ne.get(r)(t.za):r(t.za===void 0?null:t.za)}}}function pe(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function ie(e,t){return e=pe(e),new Function("body","return function "+e+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(t)}var Et=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Se=[];function me(e){var t=Error,r=ie(e,function(i){this.name=e,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},r}var Qt=void 0;function x(e){throw new Qt(e)}function Ut(e){return e||x("Cannot use deleted val. handle = "+e),Et[e].value}function Ft(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Se.length?Se.pop():Et.length;return Et[t]={Ca:1,value:e},t}}var Qe=void 0,Je=void 0;function J(e){for(var t="";yt[e];)t+=Je[yt[e++]];return t}var ae=[];function Ie(){for(;ae.length;){var e=ae.pop();e.V.ma=!1,e.delete()}}var oe=void 0,kt={};function Le(e,t){for(t===void 0&&x("ptr should not be undefined");e.aa;)t=e.pa(t),e=e.aa;return t}var $t={};function Ke(e){e=ln(e);var t=J(e);return Xt(e),t}function ue(e,t){var r=$t[e];return r===void 0&&x(t+" has unknown type "+Ke(e)),r}function ve(){}var We=!1;function tn(e){--e.count.value,e.count.value===0&&(e.ba?e.ea.ja(e.ba):e.Y.W.ja(e.X))}function Jt(e){return typeof FinalizationGroup>"u"?(Jt=function(t){return t},e):(We=new FinalizationGroup(function(t){for(var r=t.next();!r.done;r=t.next())r=r.value,r.X?tn(r):console.warn("object already deleted: "+r.X)}),Jt=function(t){return We.register(t,t.V,t.V),t},ve=function(t){We.unregister(t.V)},Jt(e))}var ye={};function se(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ce(e){return this.fromWireType(xt[e>>2])}var Kt={},ge={},en=void 0;function be(e){throw new en(e)}function wt(e,t,r){function i(f){f=r(f),f.length!==e.length&&be("Mismatched type converter count");for(var d=0;d<e.length;++d)St(e[d],f[d])}e.forEach(function(f){ge[f]=t});var u=Array(t.length),s=[],p=0;t.forEach(function(f,d){$t.hasOwnProperty(f)?u[d]=$t[f]:(s.push(f),Kt.hasOwnProperty(f)||(Kt[f]=[]),Kt[f].push(function(){u[d]=$t[f],++p,p===s.length&&i(u)}))}),s.length===0&&i(u)}function we(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function St(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=t.name;if(e||x('type "'+i+'" must have a positive integer typeid pointer'),$t.hasOwnProperty(e)){if(r.ob)return;x("Cannot register type '"+i+"' twice")}$t[e]=t,delete ge[e],Kt.hasOwnProperty(e)&&(t=Kt[e],delete Kt[e],t.forEach(function(u){u()}))}function je(e){x(e.V.Y.W.name+" instance already deleted")}function Yt(){}var nn={};function Fe(e,t,r){if(e[t].Z===void 0){var i=e[t];e[t]=function(){return e[t].Z.hasOwnProperty(arguments.length)||x("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].Z+")!"),e[t].Z[arguments.length].apply(this,arguments)},e[t].Z=[],e[t].Z[i.la]=i}}function ke(e,t,r){c.hasOwnProperty(e)?((r===void 0||c[e].Z!==void 0&&c[e].Z[r]!==void 0)&&x("Cannot register public name '"+e+"' twice"),Fe(c,e,e),c.hasOwnProperty(r)&&x("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),c[e].Z[r]=t):(c[e]=t,r!==void 0&&(c[e].Db=r))}function Tn(e,t,r,i,u,s,p,f){this.name=e,this.constructor=t,this.ga=r,this.ja=i,this.aa=u,this.jb=s,this.pa=p,this.eb=f,this.Qa=[]}function _e(e,t,r){for(;t!==r;)t.pa||x("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.pa(e),t=t.aa;return e}function Rn(e,t){return t===null?(this.Aa&&x("null is not a valid "+this.name),0):(t.V||x('Cannot pass "'+fe(t)+'" as a '+this.name),t.V.X||x("Cannot pass deleted object as a pointer of type "+this.name),_e(t.V.X,t.V.Y.W,this.W))}function Cn(e,t){if(t===null){if(this.Aa&&x("null is not a valid "+this.name),this.ta){var r=this.Ba();return e!==null&&e.push(this.ja,r),r}return 0}if(t.V||x('Cannot pass "'+fe(t)+'" as a '+this.name),t.V.X||x("Cannot pass deleted object as a pointer of type "+this.name),!this.sa&&t.V.Y.sa&&x("Cannot convert argument of type "+(t.V.ea?t.V.ea.name:t.V.Y.name)+" to parameter type "+this.name),r=_e(t.V.X,t.V.Y.W,this.W),this.ta)switch(t.V.ba===void 0&&x("Passing raw pointer to smart pointer is illegal"),this.Ab){case 0:t.V.ea===this?r=t.V.ba:x("Cannot convert argument of type "+(t.V.ea?t.V.ea.name:t.V.Y.name)+" to parameter type "+this.name);break;case 1:r=t.V.ba;break;case 2:if(t.V.ea===this)r=t.V.ba;else{var i=t.clone();r=this.wb(r,Ft(function(){i.delete()})),e!==null&&e.push(this.ja,r)}break;default:x("Unsupporting sharing policy")}return r}function An(e,t){return t===null?(this.Aa&&x("null is not a valid "+this.name),0):(t.V||x('Cannot pass "'+fe(t)+'" as a '+this.name),t.V.X||x("Cannot pass deleted object as a pointer of type "+this.name),t.V.Y.sa&&x("Cannot convert argument of type "+t.V.Y.name+" to parameter type "+this.name),_e(t.V.X,t.V.Y.W,this.W))}function rn(e,t,r){return t===r?e:r.aa===void 0?null:(e=rn(e,t,r.aa),e===null?null:r.eb(e))}function En(e,t){return t=Le(e,t),kt[t]}function Pe(e,t){return t.Y&&t.X||be("makeClassHandle requires ptr and ptrType"),!!t.ea!=!!t.ba&&be("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Jt(Object.create(e,{V:{value:t}}))}function Vt(e,t,r,i){this.name=e,this.W=t,this.Aa=r,this.sa=i,this.ta=!1,this.ja=this.wb=this.Ba=this.Ra=this.Ab=this.vb=void 0,t.aa!==void 0?this.toWireType=Cn:(this.toWireType=i?Rn:An,this.da=null)}function an(e,t,r){c.hasOwnProperty(e)||be("Replacing nonexistant public symbol"),c[e].Z!==void 0&&r!==void 0?c[e].Z[r]=t:(c[e]=t,c[e].la=r)}function Mn(e,t){var r=[];return function(){r.length=arguments.length;for(var i=0;i<arguments.length;i++)r[i]=arguments[i];return e.includes("j")?(i=c["dynCall_"+e],i=r&&r.length?i.apply(null,[t].concat(r)):i.call(null,t)):i=ne.get(t).apply(null,r),i}}function ht(e,t){e=J(e);var r=e.includes("j")?Mn(e,t):ne.get(t);return typeof r!="function"&&x("unknown function pointer with signature "+e+": "+t),r}var on=void 0;function Dt(e,t){function r(s){u[s]||$t[s]||(ge[s]?ge[s].forEach(r):(i.push(s),u[s]=!0))}var i=[],u={};throw t.forEach(r),new on(e+": "+i.map(Ke).join([", "]))}function un(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=ie(t.name||"unknownFunctionName",function(){});return r.prototype=t.prototype,r=new r,e=t.apply(r,e),e instanceof Object?e:r}function Te(e,t,r,i,u){var s=t.length;2>s&&x("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=t[1]!==null&&r!==null,f=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].da===void 0){f=!0;break}var d=t[0].name!=="void",l="",y="";for(r=0;r<s-2;++r)l+=(r!==0?", ":"")+"arg"+r,y+=(r!==0?", ":"")+"arg"+r+"Wired";e="return function "+pe(e)+"("+l+`) {
if (arguments.length !== `+(s-2)+`) {
throwBindingError('function `+e+" called with ' + arguments.length + ' arguments, expected "+(s-2)+` args!');
}
`,f&&(e+=`var destructors = [];
`);var C=f?"destructors":"null";for(l="throwBindingError invoker fn runDestructors retType classParam".split(" "),i=[x,i,u,se,t[0],t[1]],p&&(e+="var thisWired = classParam.toWireType("+C+`, this);
`),r=0;r<s-2;++r)e+="var arg"+r+"Wired = argType"+r+".toWireType("+C+", arg"+r+"); // "+t[r+2].name+`
`,l.push("argType"+r),i.push(t[r+2]);if(p&&(y="thisWired"+(0<y.length?", ":"")+y),e+=(d?"var rv = ":"")+"invoker(fn"+(0<y.length?", ":"")+y+`);
`,f)e+=`runDestructors(destructors);
`;else for(r=p?1:2;r<t.length;++r)s=r===1?"thisWired":"arg"+(r-2)+"Wired",t[r].da!==null&&(e+=s+"_dtor("+s+"); // "+t[r].name+`
`,l.push(s+"_dtor"),i.push(t[r].da));return d&&(e+=`var ret = retType.fromWireType(rv);
return ret;
`),l.push(e+`}
`),un(l).apply(null,i)}function Re(e,t){for(var r=[],i=0;i<e;i++)r.push(gt[(t>>2)+i]);return r}function sn(e,t,r){return e instanceof Object||x(r+' with invalid "this": '+e),e instanceof t.W.constructor||x(r+' incompatible with "this" of type '+e.constructor.name),e.V.X||x("cannot call emscripten binding method "+r+" on deleted object"),_e(e.V.X,e.V.Y.W,t.W)}function Ve(e){4<e&&--Et[e].Ca===0&&(Et[e]=void 0,Se.push(e))}function On(e,t,r){switch(t){case 0:return function(i){return this.fromWireType((r?jt:yt)[i])};case 1:return function(i){return this.fromWireType((r?Ht:ee)[i>>1])};case 2:return function(i){return this.fromWireType((r?gt:xt)[i>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function fe(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function xn(e,t){switch(t){case 2:return function(r){return this.fromWireType(Ue[r>>2])};case 3:return function(r){return this.fromWireType(Ye[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Sn(e,t,r){switch(t){case 0:return r?function(i){return jt[i]}:function(i){return yt[i]};case 1:return r?function(i){return Ht[i>>1]}:function(i){return ee[i>>1]};case 2:return r?function(i){return gt[i>>2]}:function(i){return xt[i>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var In={};function Ce(e){var t=In[e];return t===void 0?J(e):t}var Ae=[];function Ln(e){var t=Ae.length;return Ae.push(e),t}function Wn(e,t){for(var r=Array(e),i=0;i<e;++i)r[i]=ue(gt[(t>>2)+i],"parameter "+i);return r}var cn=[],jn=[null,[],[]];Qt=c.BindingError=me("BindingError"),c.count_emval_handles=function(){for(var e=0,t=5;t<Et.length;++t)Et[t]!==void 0&&++e;return e},c.get_first_emval=function(){for(var e=5;e<Et.length;++e)if(Et[e]!==void 0)return Et[e];return null},Qe=c.PureVirtualError=me("PureVirtualError");for(var fn=Array(256),Ee=0;256>Ee;++Ee)fn[Ee]=String.fromCharCode(Ee);Je=fn,c.getInheritedInstanceCount=function(){return Object.keys(kt).length},c.getLiveInheritedInstances=function(){var e=[],t;for(t in kt)kt.hasOwnProperty(t)&&e.push(kt[t]);return e},c.flushPendingDeletes=Ie,c.setDelayFunction=function(e){oe=e,ae.length&&oe&&oe(Ie)},en=c.InternalError=me("InternalError"),Yt.prototype.isAliasOf=function(e){if(!(this instanceof Yt&&e instanceof Yt))return!1;var t=this.V.Y.W,r=this.V.X,i=e.V.Y.W;for(e=e.V.X;t.aa;)r=t.pa(r),t=t.aa;for(;i.aa;)e=i.pa(e),i=i.aa;return t===i&&r===e},Yt.prototype.clone=function(){if(this.V.X||je(this),this.V.oa)return this.V.count.value+=1,this;var e=Jt,t=Object,r=t.create,i=Object.getPrototypeOf(this),u=this.V;return e=e(r.call(t,i,{V:{value:{count:u.count,ma:u.ma,oa:u.oa,X:u.X,Y:u.Y,ba:u.ba,ea:u.ea}}})),e.V.count.value+=1,e.V.ma=!1,e},Yt.prototype.delete=function(){this.V.X||je(this),this.V.ma&&!this.V.oa&&x("Object already scheduled for deletion"),ve(this),tn(this.V),this.V.oa||(this.V.ba=void 0,this.V.X=void 0)},Yt.prototype.isDeleted=function(){return!this.V.X},Yt.prototype.deleteLater=function(){return this.V.X||je(this),this.V.ma&&!this.V.oa&&x("Object already scheduled for deletion"),ae.push(this),ae.length===1&&oe&&oe(Ie),this.V.ma=!0,this},Vt.prototype.kb=function(e){return this.Ra&&(e=this.Ra(e)),e},Vt.prototype.Ka=function(e){this.ja&&this.ja(e)},Vt.prototype.argPackAdvance=8,Vt.prototype.readValueFromPointer=ce,Vt.prototype.deleteObject=function(e){e!==null&&e.delete()},Vt.prototype.fromWireType=function(e){function t(){return this.ta?Pe(this.W.ga,{Y:this.vb,X:r,ea:this,ba:e}):Pe(this.W.ga,{Y:this,X:e})}var r=this.kb(e);if(!r)return this.Ka(e),null;var i=En(this.W,r);if(i!==void 0)return i.V.count.value===0?(i.V.X=r,i.V.ba=e,i.clone()):(i=i.clone(),this.Ka(e),i);if(i=this.W.jb(r),i=nn[i],!i)return t.call(this);i=this.sa?i.ab:i.pointerType;var u=rn(r,this.W,i.W);return u===null?t.call(this):this.ta?Pe(i.W.ga,{Y:i,X:u,ea:this,ba:e}):Pe(i.W.ga,{Y:i,X:u})},on=c.UnboundTypeError=me("UnboundTypeError");var Fn={n:function(e,t,r){e=J(e),t=ue(t,"wrapper"),r=Ut(r);var i=[].slice,u=t.W,s=u.ga,p=u.aa.ga,f=u.aa.constructor;e=ie(e,function(){u.aa.Qa.forEach(function(l){if(this[l]===p[l])throw new Qe("Pure virtual function "+l+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:s}),this.__construct.apply(this,i.call(arguments))}),s.__construct=function(){this===s&&x("Pass correct 'this' to __construct");var l=f.implement.apply(void 0,[this].concat(i.call(arguments)));ve(l);var y=l.V;l.notifyOnDestruction(),y.oa=!0,Object.defineProperties(this,{V:{value:y}}),Jt(this),l=y.X,l=Le(u,l),kt.hasOwnProperty(l)?x("Tried to register registered instance: "+l):kt[l]=this},s.__destruct=function(){this===s&&x("Pass correct 'this' to __destruct"),ve(this);var l=this.V.X;l=Le(u,l),kt.hasOwnProperty(l)?delete kt[l]:x("Tried to unregister unregistered instance: "+l)},e.prototype=Object.create(s);for(var d in r)e.prototype[d]=r[d];return Ft(e)},K:function(e){var t=ye[e];delete ye[e];var r=t.Ba,i=t.ja,u=t.Na,s=u.map(function(p){return p.nb}).concat(u.map(function(p){return p.yb}));wt([e],s,function(p){var f={};return u.forEach(function(d,l){var y=p[l],C=d.lb,T=d.mb,S=p[l+u.length],b=d.xb,nt=d.zb;f[d.hb]={read:function(rt){return y.fromWireType(C(T,rt))},write:function(rt,E){var V=[];b(nt,rt,S.toWireType(V,E)),se(V)}}}),[{name:t.name,fromWireType:function(d){var l={},y;for(y in f)l[y]=f[y].read(d);return i(d),l},toWireType:function(d,l){for(var y in f)if(!(y in l))throw new TypeError('Missing field:  "'+y+'"');var C=r();for(y in f)f[y].write(C,l[y]);return d!==null&&d.push(i,C),C},argPackAdvance:8,readValueFromPointer:ce,da:i}]})},z:function(){},F:function(e,t,r,i,u){var s=we(r);t=J(t),St(e,{name:t,fromWireType:function(p){return!!p},toWireType:function(p,f){return f?i:u},argPackAdvance:8,readValueFromPointer:function(p){if(r===1)var f=jt;else if(r===2)f=Ht;else if(r===4)f=gt;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(f[p>>s])},da:null})},c:function(e,t,r,i,u,s,p,f,d,l,y,C,T){y=J(y),s=ht(u,s),f&&(f=ht(p,f)),l&&(l=ht(d,l)),T=ht(C,T);var S=pe(y);ke(S,function(){Dt("Cannot construct "+y+" due to unbound types",[i])}),wt([e,t,r],i?[i]:[],function(b){if(b=b[0],i)var nt=b.W,rt=nt.ga;else rt=Yt.prototype;b=ie(S,function(){if(Object.getPrototypeOf(this)!==E)throw new Qt("Use 'new' to construct "+y);if(V.ka===void 0)throw new Qt(y+" has no accessible constructor");var _t=V.ka[arguments.length];if(_t===void 0)throw new Qt("Tried to invoke ctor of "+y+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(V.ka).toString()+") parameters instead!");return _t.apply(this,arguments)});var E=Object.create(rt,{constructor:{value:b}});b.prototype=E;var V=new Tn(y,b,E,T,nt,s,f,l);nt=new Vt(y,V,!0,!1),rt=new Vt(y+"*",V,!1,!1);var K=new Vt(y+" const*",V,!1,!0);return nn[e]={pointerType:rt,ab:K},an(S,b),[nt,rt,K]})},i:function(e,t,r,i,u,s,p){var f=Re(r,i);t=J(t),s=ht(u,s),wt([],[e],function(d){function l(){Dt("Cannot call "+y+" due to unbound types",f)}d=d[0];var y=d.name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var C=d.W.constructor;return C[t]===void 0?(l.la=r-1,C[t]=l):(Fe(C,t,y),C[t].Z[r-1]=l),wt([],f,function(T){return T=[T[0],null].concat(T.slice(1)),T=Te(y,T,null,s,p),C[t].Z===void 0?(T.la=r-1,C[t]=T):C[t].Z[r-1]=T,[]}),[]})},f:function(e,t,r,i,u,s,p,f){t=J(t),s=ht(u,s),wt([],[e],function(d){d=d[0];var l=d.name+"."+t,y={get:function(){Dt("Cannot access "+l+" due to unbound types",[r])},enumerable:!0,configurable:!0};return y.set=f?function(){Dt("Cannot access "+l+" due to unbound types",[r])}:function(){x(l+" is a read-only property")},Object.defineProperty(d.W.constructor,t,y),wt([],[r],function(C){C=C[0];var T={get:function(){return C.fromWireType(s(i))},enumerable:!0};return f&&(f=ht(p,f),T.set=function(S){var b=[];f(i,C.toWireType(b,S)),se(b)}),Object.defineProperty(d.W.constructor,t,T),[]}),[]})},l:function(e,t,r,i,u,s){0<t||qt("Assertion failed: undefined");var p=Re(t,r);u=ht(i,u),wt([],[e],function(f){f=f[0];var d="constructor "+f.name;if(f.W.ka===void 0&&(f.W.ka=[]),f.W.ka[t-1]!==void 0)throw new Qt("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+f.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return f.W.ka[t-1]=function(){Dt("Cannot construct "+f.name+" due to unbound types",p)},wt([],p,function(l){return l.splice(1,0,null),f.W.ka[t-1]=Te(d,l,null,u,s),[]}),[]})},a:function(e,t,r,i,u,s,p,f){var d=Re(r,i);t=J(t),s=ht(u,s),wt([],[e],function(l){function y(){Dt("Cannot call "+C+" due to unbound types",d)}l=l[0];var C=l.name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),f&&l.W.Qa.push(t);var T=l.W.ga,S=T[t];return S===void 0||S.Z===void 0&&S.className!==l.name&&S.la===r-2?(y.la=r-2,y.className=l.name,T[t]=y):(Fe(T,t,C),T[t].Z[r-2]=y),wt([],d,function(b){return b=Te(C,b,l,s,p),T[t].Z===void 0?(b.la=r-2,T[t]=b):T[t].Z[r-2]=b,[]}),[]})},b:function(e,t,r,i,u,s,p,f,d,l){t=J(t),u=ht(i,u),wt([],[e],function(y){y=y[0];var C=y.name+"."+t,T={get:function(){Dt("Cannot access "+C+" due to unbound types",[r,p])},enumerable:!0,configurable:!0};return T.set=d?function(){Dt("Cannot access "+C+" due to unbound types",[r,p])}:function(){x(C+" is a read-only property")},Object.defineProperty(y.W.ga,t,T),wt([],d?[r,p]:[r],function(S){var b=S[0],nt={get:function(){var E=sn(this,y,C+" getter");return b.fromWireType(u(s,E))},enumerable:!0};if(d){d=ht(f,d);var rt=S[1];nt.set=function(E){var V=sn(this,y,C+" setter"),K=[];d(l,V,rt.toWireType(K,E)),se(K)}}return Object.defineProperty(y.W.ga,t,nt),[]}),[]})},E:function(e,t){t=J(t),St(e,{name:t,fromWireType:function(r){var i=Ut(r);return Ve(r),i},toWireType:function(r,i){return Ft(i)},argPackAdvance:8,readValueFromPointer:ce,da:null})},k:function(e,t,r,i){function u(){}r=we(r),t=J(t),u.values={},St(e,{name:t,constructor:u,fromWireType:function(s){return this.constructor.values[s]},toWireType:function(s,p){return p.value},argPackAdvance:8,readValueFromPointer:On(t,r,i),da:null}),ke(t,u)},j:function(e,t,r){var i=ue(e,"enum");t=J(t),e=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:ie(i.name+"_"+t,function(){})}}),e.values[r]=i,e[t]=i},s:function(e,t,r){r=we(r),t=J(t),St(e,{name:t,fromWireType:function(i){return i},toWireType:function(i,u){return u},argPackAdvance:8,readValueFromPointer:xn(t,r),da:null})},r:function(e,t,r,i,u,s){var p=Re(t,r);e=J(e),u=ht(i,u),ke(e,function(){Dt("Cannot call "+e+" due to unbound types",p)},t-1),wt([],p,function(f){return f=[f[0],null].concat(f.slice(1)),an(e,Te(e,f,null,u,s),t-1),[]})},h:function(e,t,r,i,u){function s(l){return l}t=J(t),u===-1&&(u=4294967295);var p=we(r);if(i===0){var f=32-8*r;s=function(l){return l<<f>>>f}}var d=t.includes("unsigned");St(e,{name:t,fromWireType:s,toWireType:function(l,y){if(typeof y!="number"&&typeof y!="boolean")throw new TypeError('Cannot convert "'+fe(y)+'" to '+this.name);if(y<i||y>u)throw new TypeError('Passing a number "'+fe(y)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+i+", "+u+"]!");return d?y>>>0:y|0},argPackAdvance:8,readValueFromPointer:Sn(t,p,i!==0),da:null})},g:function(e,t,r){function i(s){s>>=2;var p=xt;return new u(vt,p[s+1],p[s])}var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=J(r),St(e,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ob:!0})},t:function(e,t){t=J(t);var r=t==="std::string";St(e,{name:t,fromWireType:function(i){var u=xt[i>>2];if(r)for(var s=i+4,p=0;p<=u;++p){var f=i+4+p;if(p==u||yt[f]==0){if(s=s?_(yt,s,f-s):"",d===void 0)var d=s;else d+=String.fromCharCode(0),d+=s;s=f+1}}else{for(d=Array(u),p=0;p<u;++p)d[p]=String.fromCharCode(yt[i+4+p]);d=d.join("")}return Xt(i),d},toWireType:function(i,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var s=typeof u=="string";s||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array||x("Cannot pass non-string to std::string");var p=(r&&s?function(){for(var l=0,y=0;y<u.length;++y){var C=u.charCodeAt(y);55296<=C&&57343>=C&&(C=65536+((C&1023)<<10)|u.charCodeAt(++y)&1023),127>=C?++l:l=2047>=C?l+2:65535>=C?l+3:l+4}return l}:function(){return u.length})(),f=De(4+p+1);if(xt[f>>2]=p,r&&s)O(u,f+4,p+1);else if(s)for(s=0;s<p;++s){var d=u.charCodeAt(s);255<d&&(Xt(f),x("String has UTF-16 code units that do not fit in 8 bits")),yt[f+4+s]=d}else for(s=0;s<p;++s)yt[f+4+s]=u[s];return i!==null&&i.push(Xt,f),f},argPackAdvance:8,readValueFromPointer:ce,da:function(i){Xt(i)}})},q:function(e,t,r){if(r=J(r),t===2)var i=A,u=U,s=lt,p=function(){return ee},f=1;else t===4&&(i=At,u=et,s=Wt,p=function(){return xt},f=2);St(e,{name:r,fromWireType:function(d){for(var l=xt[d>>2],y=p(),C,T=d+4,S=0;S<=l;++S){var b=d+4+S*t;(S==l||y[b>>f]==0)&&(T=i(T,b-T),C===void 0?C=T:(C+=String.fromCharCode(0),C+=T),T=b+t)}return Xt(d),C},toWireType:function(d,l){typeof l!="string"&&x("Cannot pass non-string to C++ string type "+r);var y=s(l),C=De(4+y+t);return xt[C>>2]=y>>f,u(l,C+4,y+t),d!==null&&d.push(Xt,C),C},argPackAdvance:8,readValueFromPointer:ce,da:function(d){Xt(d)}})},L:function(e,t,r,i,u,s){ye[e]={name:J(t),Ba:ht(r,i),ja:ht(u,s),Na:[]}},I:function(e,t,r,i,u,s,p,f,d,l){ye[e].Na.push({hb:J(t),nb:r,lb:ht(i,u),mb:s,yb:p,xb:ht(f,d),zb:l})},G:function(e,t){t=J(t),St(e,{qb:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},m:function(e,t,r){e=Ut(e),t=ue(t,"emval::as");var i=[],u=Ft(i);return gt[r>>2]=u,t.toWireType(i,e)},u:function(e,t,r,i,u){e=Ae[e],t=Ut(t),r=Ce(r);var s=[];return gt[i>>2]=Ft(s),e(t,r,s,u)},e:function(e,t,r,i){e=Ae[e],t=Ut(t),r=Ce(r),e(t,r,null,i)},M:Ve,d:function(e,t){var r=Wn(e,t),i=r[0];t=i.name+"_$"+r.slice(1).map(function(y){return y.name}).join("_")+"$";var u=cn[t];if(u!==void 0)return u;u=["retType"];for(var s=[i],p="",f=0;f<e-1;++f)p+=(f!==0?", ":"")+"arg"+f,u.push("argType"+f),s.push(r[1+f]);var d="return function "+pe("methodCaller_"+t)+`(handle, name, destructors, args) {
`,l=0;for(f=0;f<e-1;++f)d+="    var arg"+f+" = argType"+f+".readValueFromPointer(args"+(l?"+"+l:"")+`);
`,l+=r[f+1].argPackAdvance;for(d+="    var rv = handle[name]("+p+`);
`,f=0;f<e-1;++f)r[f+1].deleteObject&&(d+="    argType"+f+".deleteObject(arg"+f+`);
`);return i.qb||(d+=`    return retType.toWireType(destructors, rv);
`),u.push(d+`};
`),e=un(u).apply(null,s),u=Ln(e),cn[t]=u},H:function(e){return e=Ce(e),Ft(c[e])},J:function(e,t){return e=Ut(e),t=Ut(t),Ft(e[t])},w:function(e){4<e&&(Et[e].Ca+=1)},D:function(e){return Ft(Ce(e))},x:function(e){var t=Ut(e);se(t),Ve(e)},o:function(e,t){return e=ue(e,"_emval_take_value"),e=e.readValueFromPointer(t),Ft(e)},v:function(){qt("")},p:function(e){var t=yt.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var i=t*(1+.2/r);i=Math.min(i,e+100663296),i=Math.max(e,i),0<i%65536&&(i+=65536-i%65536);t:{try{h.grow(Math.min(2147483648,i)-vt.byteLength+65535>>>16),Ne();var u=1;break t}catch{}u=void 0}if(u)return!0}return!1},B:function(){return 0},y:function(){},C:function(e,t,r,i){for(var u=0,s=0;s<r;s++){var p=gt[t>>2],f=gt[t+4>>2];t+=8;for(var d=0;d<f;d++){var l=yt[p+d],y=jn[e];l===0||l===10?((e===1?o:n)(_(y,0)),y.length=0):y.push(l)}u+=f}return gt[i>>2]=u,0},A:function(){}};(function(){function e(u){c.asm=u.exports,h=c.asm.N,Ne(),ne=c.asm.T,ze.unshift(c.asm.O),zt--,c.monitorRunDependencies&&c.monitorRunDependencies(zt),zt==0&&re&&(u=re,re=null,u())}function t(u){e(u.instance)}function r(u){return Pn().then(function(s){return WebAssembly.instantiate(s,i)}).then(function(s){return s}).then(u,function(s){n("failed to asynchronously prepare wasm: "+s),qt(s)})}var i={a:Fn};if(zt++,c.monitorRunDependencies&&c.monitorRunDependencies(zt),c.instantiateWasm)try{return c.instantiateWasm(i,e)}catch(u){return n("Module.instantiateWasm callback failed with error: "+u),!1}return function(){return a||typeof WebAssembly.instantiateStreaming!="function"||Ze()||Tt.startsWith("file://")||typeof fetch!="function"?r(t):fetch(Tt,{credentials:"same-origin"}).then(function(u){return WebAssembly.instantiateStreaming(u,i).then(t,function(s){return n("wasm streaming compile failed: "+s),n("falling back to ArrayBuffer instantiation"),r(t)})})}().catch(M),{}})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.O).apply(null,arguments)};var Xt=c._free=function(){return(Xt=c._free=c.asm.P).apply(null,arguments)},De=c._malloc=function(){return(De=c._malloc=c.asm.Q).apply(null,arguments)},ln=c.___getTypeName=function(){return(ln=c.___getTypeName=c.asm.R).apply(null,arguments)};c.___embind_register_native_and_builtin_types=function(){return(c.___embind_register_native_and_builtin_types=c.asm.S).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.U).apply(null,arguments)};var Me;re=function e(){Me||Xe(),Me||(re=e)};function Xe(){function e(){if(!Me&&(Me=!0,c.calledRun=!0,!v)){if(xe(ze),F(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var t=c.postRun.shift();$e.unshift(t)}xe($e)}}if(!(0<zt)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)_n();xe(He),0<zt||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e())}}if(c.run=Xe,c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Xe(),w.ready}}();const R=Rt},z=>{z.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"1.0.71","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(z,q,Q)=>{Q.r(q),Q.d(q,{registerTouchInteractions:()=>Rt.registerTouchInteractions});var Rt=Q(4)},(z,q,Q)=>{Q.r(q),Q.d(q,{registerTouchInteractions:()=>Rt});const Rt=({canvas:R,artboard:X,stateMachines:w=[],renderer:c,rive:F,fit:M,alignment:ct})=>{if(!R||!w.length||!c||!F||!X)return;const N=Z=>{const at=Z.currentTarget.getBoundingClientRect(),mt=Z.clientX-at.left,L=Z.clientY-at.top,ot=F.computeAlignment(M,ct,{minX:0,minY:0,maxX:at.width,maxY:at.height},X.bounds);let tt=new F.Mat2D;ot.invert(tt);const Ct=new F.Vec2D(mt,L),Pt=F.mapXY(tt,Ct),dt=Pt.x(),G=Pt.y();switch(Z.type){case"mousemove":{for(const W of w)W.pointerMove(dt,G);break}case"mousedown":{for(const W of w)W.pointerDown(dt,G);break}case"mouseup":{for(const W of w)W.pointerUp(dt,G);break}}};R.addEventListener("mousemove",N.bind(void 0)),R.addEventListener("mousedown",N.bind(void 0)),R.addEventListener("mouseup",N.bind(void 0))}}],it={};function $(z){var q=it[z];if(q!==void 0)return q.exports;var Q=it[z]={exports:{}};return pt[z](Q,Q.exports,$),Q.exports}$.d=(z,q)=>{for(var Q in q)$.o(q,Q)&&!$.o(z,Q)&&Object.defineProperty(z,Q,{enumerable:!0,get:q[Q]})},$.o=(z,q)=>Object.prototype.hasOwnProperty.call(z,q),$.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var st={};return(()=>{$.r(st),$.d(st,{Fit:()=>w,Alignment:()=>c,Layout:()=>F,RuntimeLoader:()=>M,StateMachineInputType:()=>N,StateMachineInput:()=>Z,EventType:()=>L,LoopType:()=>ot,Rive:()=>Pt,Testing:()=>W});var z=$(1),q=$(2),Q=$(3),Rt=function(o,n,a,h){function v(g){return g instanceof a?g:new a(function(_){_(g)})}return new(a||(a=Promise))(function(g,_){function O(U){try{A(h.next(U))}catch(lt){_(lt)}}function B(U){try{A(h.throw(U))}catch(lt){_(lt)}}function A(U){U.done?g(U.value):v(U.value).then(O,B)}A((h=h.apply(o,n||[])).next())})},R=function(o,n){var a={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,v,g,_;return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(A){return function(U){return B([A,U])}}function B(A){if(h)throw new TypeError("Generator is already executing.");for(;a;)try{if(h=1,v&&(g=A[0]&2?v.return:A[0]?v.throw||((g=v.return)&&g.call(v),0):v.next)&&!(g=g.call(v,A[1])).done)return g;switch(v=0,g&&(A=[A[0]&2,g.value]),A[0]){case 0:case 1:g=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,v=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(g=a.trys,!(g=g.length>0&&g[g.length-1])&&(A[0]===6||A[0]===2)){a=0;continue}if(A[0]===3&&(!g||A[1]>g[0]&&A[1]<g[3])){a.label=A[1];break}if(A[0]===6&&a.label<g[1]){a.label=g[1],g=A;break}if(g&&a.label<g[2]){a.label=g[2],a.ops.push(A);break}g[2]&&a.ops.pop(),a.trys.pop();continue}A=n.call(o,a)}catch(U){A=[6,U],v=0}finally{h=g=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},X;(function(o){o[o.Play=0]="Play",o[o.Pause=1]="Pause",o[o.Stop=2]="Stop"})(X||(X={}));var w;(function(o){o.Cover="cover",o.Contain="contain",o.Fill="fill",o.FitWidth="fitWidth",o.FitHeight="fitHeight",o.None="none",o.ScaleDown="scaleDown"})(w||(w={}));var c;(function(o){o.Center="center",o.TopLeft="topLeft",o.TopCenter="topCenter",o.TopRight="topRight",o.CenterLeft="centerLeft",o.CenterRight="centerRight",o.BottomLeft="bottomLeft",o.BottomCenter="bottomCenter",o.BottomRight="bottomRight"})(c||(c={}));var F=function(){function o(n){var a,h,v,g,_,O;this.fit=(a=n?.fit)!==null&&a!==void 0?a:w.Contain,this.alignment=(h=n?.alignment)!==null&&h!==void 0?h:c.Center,this.minX=(v=n?.minX)!==null&&v!==void 0?v:0,this.minY=(g=n?.minY)!==null&&g!==void 0?g:0,this.maxX=(_=n?.maxX)!==null&&_!==void 0?_:0,this.maxY=(O=n?.maxY)!==null&&O!==void 0?O:0}return o.new=function(n){var a=n.fit,h=n.alignment,v=n.minX,g=n.minY,_=n.maxX,O=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new o({fit:a,alignment:h,minX:v,minY:g,maxX:_,maxY:O})},o.prototype.copyWith=function(n){var a=n.fit,h=n.alignment,v=n.minX,g=n.minY,_=n.maxX,O=n.maxY;return new o({fit:a??this.fit,alignment:h??this.alignment,minX:v??this.minX,minY:g??this.minY,maxX:_??this.maxX,maxY:O??this.maxY})},o.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===w.Cover?a=n.Fit.cover:this.fit===w.Contain?a=n.Fit.contain:this.fit===w.Fill?a=n.Fit.fill:this.fit===w.FitWidth?a=n.Fit.fitWidth:this.fit===w.FitHeight?a=n.Fit.fitHeight:this.fit===w.ScaleDown?a=n.Fit.scaleDown:a=n.Fit.none,this.cachedRuntimeFit=a,a},o.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===c.TopLeft?a=n.Alignment.topLeft:this.alignment===c.TopCenter?a=n.Alignment.topCenter:this.alignment===c.TopRight?a=n.Alignment.topRight:this.alignment===c.CenterLeft?a=n.Alignment.centerLeft:this.alignment===c.CenterRight?a=n.Alignment.centerRight:this.alignment===c.BottomLeft?a=n.Alignment.bottomLeft:this.alignment===c.BottomCenter?a=n.Alignment.bottomCenter:this.alignment===c.BottomRight?a=n.Alignment.bottomRight:a=n.Alignment.center,this.cachedRuntimeAlignment=a,a},o}(),M=function(){function o(){}return o.loadRuntime=function(){z.default({locateFile:function(n){return o.wasmURL}}).then(function(n){var a;for(o.runtime=n;o.callBackQueue.length>0;)(a=o.callBackQueue.shift())===null||a===void 0||a(o.runtime)})},o.getInstance=function(n){o.isLoading||(o.isLoading=!0,o.loadRuntime()),o.runtime?n(o.runtime):o.callBackQueue.push(n)},o.awaitInstance=function(){return new Promise(function(n,a){return o.getInstance(function(h){return n(h)})})},o.setWasmUrl=function(n){o.wasmURL=n},o.isLoading=!1,o.callBackQueue=[],o.wasmURL="https://unpkg.com/"+q.name+"@"+q.version+"/rive.wasm",o}(),ct=function(){function o(n,a,h,v){this.animation=n,this.artboard=a,this.playing=v,this.loopCount=0,this.scrubTo=null,this.instance=new h.LinearAnimationInstance(n,a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},o.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(o.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){this.instance.delete()},o}(),N;(function(o){o[o.Number=56]="Number",o[o.Trigger=58]="Trigger",o[o.Boolean=59]="Boolean"})(N||(N={}));var Z=function(){function o(n,a){this.type=n,this.runtimeInput=a}return Object.defineProperty(o.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),o.prototype.fire=function(){this.type===N.Trigger&&this.runtimeInput.fire()},o}(),at=function(){function o(n,a,h,v){this.stateMachine=n,this.playing=h,this.artboard=v,this.inputs=[],this.instance=new a.StateMachineInstance(n,v),this.initInputs(a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"statesChanged",{get:function(){for(var n=[],a=0;a<this.instance.stateChangedCount();a++)n.push(this.instance.stateChangedNameByIndex(a));return n},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.instance.advance(n)},o.prototype.initInputs=function(n){for(var a=0;a<this.instance.inputCount();a++){var h=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(h,n))}},o.prototype.mapRuntimeInput=function(n,a){if(n.type===a.SMIInput.bool)return new Z(N.Boolean,n.asBool());if(n.type===a.SMIInput.number)return new Z(N.Number,n.asNumber());if(n.type===a.SMIInput.trigger)return new Z(N.Trigger,n.asTrigger())},o.prototype.cleanup=function(){this.instance.delete()},o}(),mt=function(){function o(n,a,h,v,g){v===void 0&&(v=[]),g===void 0&&(g=[]),this.runtime=n,this.artboard=a,this.eventManager=h,this.animations=v,this.stateMachines=g}return o.prototype.add=function(n,a,h){if(h===void 0&&(h=!0),n=G(n),n.length===0)this.animations.forEach(function(et){return et.playing=a}),this.stateMachines.forEach(function(et){return et.playing=a});else{var v=this.animations.map(function(et){return et.name}),g=this.stateMachines.map(function(et){return et.name});for(var _ in n){var O=v.indexOf(n[_]),B=g.indexOf(n[_]);if(O>=0||B>=0)O>=0?this.animations[O].playing=a:this.stateMachines[B].playing=a;else{var A=this.artboard.animationByName(n[_]);if(A){var U=new ct(A,this.artboard,this.runtime,a);U.advance(0),U.apply(1),this.animations.push(U)}else{var lt=this.artboard.stateMachineByName(n[_]);if(lt){var At=new at(lt,this.runtime,a,this.artboard);this.stateMachines.push(At)}}}}}return h&&(a?this.eventManager.fire({type:L.Play,data:this.playing}):this.eventManager.fire({type:L.Pause,data:this.paused})),a?this.playing:this.paused},o.prototype.play=function(n){return this.add(n,!0)},o.prototype.pause=function(n){return this.add(n,!1)},o.prototype.scrub=function(n,a){var h=this.animations.filter(function(v){return n.includes(v.name)});return h.forEach(function(v){return v.scrubTo=a}),h.map(function(v){return v.name})},Object.defineProperty(o.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),o.prototype.stop=function(n){var a=this;n=G(n);var h=[];if(n.length===0)h=this.animations.map(function(_){return _.name}).concat(this.stateMachines.map(function(_){return _.name})),this.animations.forEach(function(_){return _.cleanup()}),this.stateMachines.forEach(function(_){return _.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var v=this.animations.filter(function(_){return n.includes(_.name)});v.forEach(function(_){_.cleanup(),a.animations.splice(a.animations.indexOf(_),1)});var g=this.stateMachines.filter(function(_){return n.includes(_.name)});g.forEach(function(_){_.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(_),1)}),h=v.map(function(_){return _.name}).concat(g.map(function(_){return _.name}))}return this.eventManager.fire({type:L.Stop,data:h}),h},Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,a){return n||a.playing},!1)||this.stateMachines.reduce(function(n,a){return n||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),o.prototype.atLeastOne=function(n,a){a===void 0&&(a=!0);var h;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([h=this.artboard.animationByIndex(0).name],n,a):this.artboard.stateMachineCount()>0&&this.add([h=this.artboard.stateMachineByIndex(0).name],n,a)),h},o.prototype.handleLooping=function(){for(var n=0,a=this.animations.filter(function(v){return v.playing});n<a.length;n++){var h=a[n];h.loopValue===0&&h.loopCount?(h.loopCount=0,this.stop(h.name)):h.loopValue===1&&h.loopCount?(this.eventManager.fire({type:L.Loop,data:{animation:h.name,type:ot.Loop}}),h.loopCount=0):h.loopValue===2&&h.loopCount>1&&(this.eventManager.fire({type:L.Loop,data:{animation:h.name,type:ot.PingPong}}),h.loopCount=0)}},o.prototype.handleStateChanges=function(){for(var n=[],a=0,h=this.stateMachines.filter(function(g){return g.playing});a<h.length;a++){var v=h[a];n.push.apply(n,v.statesChanged)}n.length>0&&this.eventManager.fire({type:L.StateChange,data:n})},o}(),L;(function(o){o.Load="load",o.LoadError="loaderror",o.Play="play",o.Pause="pause",o.Stop="stop",o.Loop="loop",o.Draw="draw",o.StateChange="statechange"})(L||(L={}));var ot;(function(o){o.OneShot="oneshot",o.Loop="loop",o.PingPong="pingpong"})(ot||(ot={}));var tt=function(){function o(n){n===void 0&&(n=[]),this.listeners=n}return o.prototype.getListeners=function(n){return this.listeners.filter(function(a){return a.type===n})},o.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},o.prototype.remove=function(n){for(var a=0;a<this.listeners.length;a++){var h=this.listeners[a];if(h.type===n.type&&h.callback===n.callback){this.listeners.splice(a,1);break}}},o.prototype.removeAll=function(n){var a=this;n?this.listeners.filter(function(h){return h.type===n}).forEach(function(h){return a.remove(h)}):this.listeners.splice(0,this.listeners.length)},o.prototype.fire=function(n){var a=this.getListeners(n.type);a.forEach(function(h){return h.callback(n)})},o}(),Ct=function(){function o(n){this.eventManager=n,this.queue=[]}return o.prototype.add=function(n){this.queue.push(n)},o.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n?.action(),n?.event&&this.eventManager.fire(n.event)}},o}(),Pt=function(){function o(n){var a;this._updateLayout=!0,this.isRendererActive=!0,this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(a=n.layout)!==null&&a!==void 0?a:new F,this.eventManager=new tt,n.onLoad&&this.on(L.Load,n.onLoad),n.onLoadError&&this.on(L.LoadError,n.onLoadError),n.onPlay&&this.on(L.Play,n.onPlay),n.onPause&&this.on(L.Pause,n.onPause),n.onStop&&this.on(L.Stop,n.onStop),n.onLoop&&this.on(L.Loop,n.onLoop),n.onStateChange&&this.on(L.StateChange,n.onStateChange),n.onload&&!n.onLoad&&this.on(L.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(L.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(L.Play,n.onplay),n.onpause&&!n.onPause&&this.on(L.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(L.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(L.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(L.StateChange,n.onstatechange),this.taskQueue=new Ct(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return o.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new o(n)},o.prototype.init=function(n){var a=this,h=n.src,v=n.buffer,g=n.animations,_=n.stateMachines,O=n.artboard,B=n.autoplay,A=B===void 0?!1:B,U=n.useOffscreenRenderer,lt=U===void 0?!1:U;if(this.src=h,this.buffer=v,!this.src&&!this.buffer)throw new Error(o.missingErrorMessage);var At=G(g),et=G(_);this.loaded=!1,this.readyForPlaying=!1,M.awaitInstance().then(function(Wt){a.runtime=Wt,a.renderer=a.runtime.makeRenderer(a.canvas,lt),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(O,At,et,A).then(function(){var vt=(a.animator.stateMachines||[]).filter(function(jt){return jt.playing}).map(function(jt){return jt.instance});(0,Q.registerTouchInteractions)({canvas:a.canvas,artboard:a.artboard,stateMachines:vt,renderer:a.renderer,rive:a.runtime,fit:a._layout.runtimeFit(a.runtime),alignment:a._layout.runtimeAlignment(a.runtime)})}).catch(function(vt){console.error(vt)})}).catch(function(Wt){console.error(Wt)})},o.prototype.initData=function(n,a,h,v){var g;return Rt(this,void 0,void 0,function(){var _,O,B;return R(this,function(A){switch(A.label){case 0:return this.src?(_=this,[4,dt(this.src)]):[3,2];case 1:_.buffer=A.sent(),A.label=2;case 2:return O=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return O.file=A.sent(),this.file?(this.initArtboard(n,a,h,v),this.loaded=!0,this.eventManager.fire({type:L.Load,data:(g=this.src)!==null&&g!==void 0?g:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(B="Problem loading file; may be corrupt!",console.warn(B),this.eventManager.fire({type:L.LoadError,data:B}),[2,Promise.reject(B)])}})})},o.prototype.initArtboard=function(n,a,h,v){var g=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!g){var _="Invalid artboard name or no default artboard";console.warn(_),this.eventManager.fire({type:L.LoadError,data:_});return}if(this.artboard=g,this.artboard.animationCount()<1){var _="Artboard has no animations";throw this.eventManager.fire({type:L.LoadError,data:_}),_}this.animator=new mt(this.runtime,this.artboard,this.eventManager);var O;a.length>0||h.length>0?(O=a.concat(h),this.animator.add(O,v,!1)):O=[this.animator.atLeastOne(v,!1)],this.taskQueue.add({action:function(){},event:{type:v?L.Play:L.Pause,data:O}})},o.prototype.drawFrame=function(){this.startRendering()},o.prototype.draw=function(n,a){var h=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a?.());var v=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var g=this.animator.animations.filter(function(vt){return vt.playing||vt.needsScrub}).sort(function(vt,jt){return vt.needsScrub?-1:1}),_=0,O=g;_<O.length;_++){var B=O[_];B.advance(v),B.instance.didLoop&&(B.loopCount+=1),B.apply(1)}for(var A=this.animator.stateMachines.filter(function(vt){return vt.playing}),U=0,lt=A;U<lt.length;U++){var At=lt[U];At.advance(v)}this.artboard.advance(v);var et=this.renderer;et.clear(),et.save(),this.alignRenderer(),this.artboard.draw(et),et.restore(),et.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.frameCount++;var Wt=performance.now();for(this.frameTimes.push(Wt),this.durations.push(Wt-h);this.frameTimes[0]<=Wt-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},o.prototype.alignRenderer=function(){var n=this,a=n.renderer,h=n.runtime,v=n._layout,g=n.artboard;a.align(v.runtimeFit(h),v.runtimeAlignment(h),{minX:v.minX,minY:v.minY,maxX:v.maxX,maxY:v.maxY},g.bounds)},Object.defineProperty(o.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,a){return n+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){this.artboard.delete()},o.prototype.play=function(n,a){var h=this;if(n=G(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return h.play(n,a)}});return}this.animator.play(n),this.startRendering()},o.prototype.pause=function(n){var a=this;if(n=G(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(n)}});return}this.animator.pause(n)},o.prototype.scrub=function(n,a){var h=this;if(n=G(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return h.scrub(n,a)}});return}this.animator.scrub(n,a||0),this.drawFrame()},o.prototype.stop=function(n){var a=this;if(n=G(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(n)}});return}this.animator.stop(n)},o.prototype.reset=function(n){var a,h=n?.artboard,v=G(n?.animations),g=G(n?.stateMachines),_=(a=n?.autoplay)!==null&&a!==void 0?a:!1;this.stop(),this.cleanup(),this.initArtboard(h,v,g,_)},o.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(o.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),o.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},o.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&!!window){var n=this.canvas.getBoundingClientRect(),a=n.width,h=n.height,v=window.devicePixelRatio||1;this.canvas.width=v*a,this.canvas.height=v*h,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(o.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeArtboard",{get:function(){return this.artboard.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.animationCount();a++)n.push(this.artboard.animationByIndex(a).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.stateMachineCount();a++)n.push(this.artboard.stateMachineByIndex(a).name);return n},enumerable:!1,configurable:!0}),o.prototype.stateMachineInputs=function(n){if(!!this.loaded){var a=this.animator.stateMachines.find(function(h){return h.name===n});return a?.inputs}},Object.defineProperty(o.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),o.prototype.on=function(n,a){this.eventManager.add({type:n,callback:a})},o.prototype.unsubscribe=function(n,a){this.eventManager.remove({type:n,callback:a})},o.prototype.unsubscribeAll=function(n){this.eventManager.removeAll(n)},o.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},o.prototype.startRendering=function(){this.loaded&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},o.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},o.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(o.prototype,"contents",{get:function(){if(!!this.loaded){for(var n={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var h=this.file.artboardByIndex(a),v={name:h.name,animations:[],stateMachines:[]},g=0;g<h.animationCount();g++){var _=h.animationByIndex(g);v.animations.push(_.name)}for(var O=0;O<h.stateMachineCount();O++){for(var B=h.stateMachineByIndex(O),A=B.name,U=new this.runtime.StateMachineInstance(B,h),lt=[],At=0;At<U.inputCount();At++){var et=U.input(At);lt.push({name:et.name,type:et.type})}v.stateMachines.push({name:A,inputs:lt})}n.artboards.push(v)}return n}},enumerable:!1,configurable:!0}),o.missingErrorMessage="Rive source file or data buffer required",o}(),dt=function(o){return Rt(void 0,void 0,void 0,function(){var n,a,h;return R(this,function(v){switch(v.label){case 0:return n=new Request(o),[4,fetch(n)];case 1:return a=v.sent(),[4,a.arrayBuffer()];case 2:return h=v.sent(),[2,h]}})})},G=function(o){return typeof o=="string"?[o]:o instanceof Array?o:[]},W={EventManager:tt,TaskQueueManager:Ct}})(),st})()})})(gn);(function(H){Object.defineProperty(H,"__esModule",{value:!0});var k=vn.exports,pt=gn.exports;function it(R){return R&&typeof R=="object"&&"default"in R?R:{default:R}}var $=it(k),st=function(){return st=Object.assign||function(R){for(var X,w=1,c=arguments.length;w<c;w++)for(var F in X=arguments[w])Object.prototype.hasOwnProperty.call(X,F)&&(R[F]=X[F]);return R},st.apply(this,arguments)};function z(R,X){var w={};for(var c in R)Object.prototype.hasOwnProperty.call(R,c)&&X.indexOf(c)<0&&(w[c]=R[c]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var F=0;for(c=Object.getOwnPropertySymbols(R);F<c.length;F++)X.indexOf(c[F])<0&&Object.prototype.propertyIsEnumerable.call(R,c[F])&&(w[c[F]]=R[c[F]])}return w}function q(R){var X=R.setContainerRef,w=R.setCanvasRef,c=R.className,F=c===void 0?"":c,M=R.style,ct=z(R,["setContainerRef","setCanvasRef","className","style"]),N=st({width:"100%",height:"100%"},M);return $.default.createElement("div",st({ref:X,className:F},!F&&{style:N}),$.default.createElement("canvas",st({ref:w,style:{verticalAlign:"top"}},ct)))}var Q={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0};function Rt(R,X){X===void 0&&(X={});var w=k.useRef(null),c=k.useRef(null),F=k.useState(null),M=F[0],ct=F[1],N=k.useState({height:0,width:0}),Z=N[0],at=N[1],mt=function(){var W=k.useState({width:0,height:0}),o=W[0],n=W[1];return k.useEffect(function(){if(typeof window<"u"){var a=function(){n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}},[]),o}(),L=Boolean(R),ot=function(W){return Object.assign({},Q,W)}(X);function tt(){if(c.current){var W=function(){var v,g,_=(g=(v=c.current)===null||v===void 0?void 0:v.getBoundingClientRect())!==null&&g!==void 0?g:new DOMRect(0,0,0,0),O=_.width,B=_.height;if(M&&ot.fitCanvasToArtboardHeight){var A=M.bounds;return{width:O,height:O*(A.maxY/A.maxX)}}return{width:O,height:B}}(),o=W.width,n=W.height,a=o!==Z.width||n!==Z.height;if(w.current&&M&&a){if(ot.fitCanvasToArtboardHeight&&(c.current.style.height=n+"px"),ot.useDevicePixelRatio){var h=window.devicePixelRatio||1;w.current.width=h*o,w.current.height=h*n,w.current.style.width=o+"px",w.current.style.height=n+"px"}else w.current.width=o,w.current.height=n;at({width:o,height:n}),M.startRendering()}M&&M.resizeToCanvas()}}k.useEffect(function(){M&&tt()},[M,mt]);var Ct=k.useCallback(function(W){if(W&&R){var o=ot.useOffscreenRenderer,n=new pt.Rive(st(st({useOffscreenRenderer:o},R),{canvas:W}));n.on(pt.EventType.Load,function(){return ct(n)})}else W===null&&w.current&&(w.current.height=0,w.current.width=0);w.current=W},[L]),Pt=k.useCallback(function(W){c.current=W},[]);k.useEffect(function(){var W=new IntersectionObserver(function(o){o[0].isIntersecting?M&&M.startRendering():M&&M.stopRendering()});return w.current&&W.observe(w.current),function(){W.disconnect()}},[M]),k.useEffect(function(){return function(){M&&(M.stop(),ct(null))}},[M]);var dt=R?.animations;k.useEffect(function(){M&&dt&&(M.isPlaying?(M.stop(M.animationNames),M.play(dt)):M.isPaused&&(M.stop(M.animationNames),M.pause(dt)))},[dt,M]);var G=k.useCallback(function(W){return $.default.createElement(q,st({setContainerRef:Pt,setCanvasRef:Ct},W))},[]);return{canvas:w.current,setCanvasRef:Ct,setContainerRef:Pt,rive:M,RiveComponent:G}}H.default=function(R){var X=R.src,w=R.artboard,c=R.animations,F=R.stateMachines,M=R.layout,ct=R.useOffscreenRenderer,N=ct===void 0||ct,Z=z(R,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer"]),at=Rt({src:X,artboard:w,animations:c,layout:M,stateMachines:F,autoplay:!0},{useOffscreenRenderer:N}).RiveComponent;return $.default.createElement(at,st({},Z))},H.useRive=Rt,H.useStateMachineInput=function(R,X,w,c){var F=k.useState(null),M=F[0],ct=F[1];return k.useEffect(function(){if(R&&X&&w||ct(null),R&&X&&w){var N=R.stateMachineInputs(X);if(N){var Z=N.find(function(at){return at.name===w});c!==void 0&&Z&&(Z.value=c),ct(Z||null)}}else ct(null)},[R]),M},Object.keys(pt).forEach(function(R){R==="default"||H.hasOwnProperty(R)||Object.defineProperty(H,R,{enumerable:!0,get:function(){return pt[R]}})})})(yn);var Yn=Dn(yn),bn={exports:{}},Oe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nn=vn.exports,Hn=Symbol.for("react.element"),zn=Symbol.for("react.fragment"),$n=Object.prototype.hasOwnProperty,Zn=Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gn={key:!0,ref:!0,__self:!0,__source:!0};function wn(H,k,pt){var it,$={},st=null,z=null;pt!==void 0&&(st=""+pt),k.key!==void 0&&(st=""+k.key),k.ref!==void 0&&(z=k.ref);for(it in k)$n.call(k,it)&&!Gn.hasOwnProperty(it)&&($[it]=k[it]);if(H&&H.defaultProps)for(it in k=H.defaultProps,k)$[it]===void 0&&($[it]=k[it]);return{$$typeof:Hn,type:H,key:st,ref:z,props:$,_owner:Zn.current}}Oe.Fragment=zn;Oe.jsx=wn;Oe.jsxs=wn;bn.exports=Oe;function Qn(){return bn.exports.jsx(Yn,{src:"/hero-img.riv",width:320,height:202,className:"aspect-video w-full"})}export{Qn as default};
